# ─────────────────────────────────────────────────────────────────────────────
# Drip Content Scheduler — Environment Variables
# Copy this file to .env.local and fill in your values.
# .env.local is gitignored and will never be committed.
# ─────────────────────────────────────────────────────────────────────────────

# ── Database (Neon PostgreSQL) ────────────────────────────────────────────────
# Get your connection string from: https://console.neon.tech
# Format: postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require
DATABASE_URL="postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require"

# ── Whop OAuth App Credentials ───────────────────────────────────────────────
# Get these from: https://dev.whop.com → Your App → OAuth
WHOP_CLIENT_ID="your_whop_client_id"
WHOP_CLIENT_SECRET="your_whop_client_secret"

# Whop SDK server auth (used for validateToken/hasAccess + makeWebhookHandler)
# Get from Whop Developer Portal → API / App credentials
WHOP_API_KEY="your_whop_api_key"
WHOP_APP_ID="app_xxx"
NEXT_PUBLIC_WHOP_APP_ID="app_xxx"

# Callback URL — must be registered in your Whop app settings
# Local:       http://localhost:3000/api/auth/whop/callback
# Production:  https://your-app.vercel.app/api/auth/whop/callback
WHOP_REDIRECT_URI="http://localhost:3000/api/auth/whop/callback"

# ── Whop Webhook Secret ───────────────────────────────────────────────────────
# Found in Whop Developer Portal → Your App → Webhooks → Signing Secret
# Required events: membership.went_valid, membership.went_invalid
WHOP_WEBHOOK_SECRET="your_webhook_signing_secret"

# ── Session Security ──────────────────────────────────────────────────────────
# Minimum 32 characters. Generate with: openssl rand -hex 32
JWT_SECRET="replace_with_at_least_32_random_characters_hex"

# ── Cron Job Protection ───────────────────────────────────────────────────────
# Vercel sends this in the Authorization header when calling /api/cron/unlock
# Generate with: openssl rand -hex 16
CRON_SECRET="your_cron_secret"

# ── App URL ───────────────────────────────────────────────────────────────────
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ── Stripe (Phase 2 — leave commented until ready) ───────────────────────────
# STRIPE_SECRET_KEY="sk_test_..."
# STRIPE_WEBHOOK_SECRET="whsec_..."
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_..."
